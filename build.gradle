apply plugin: 'com.android.application'

android {
    compileSdkVersion 29
    ndkVersion "21.4.7075529"
    namespace "com.khronos.hello_xr"
    defaultConfig {
        applicationId "com.khronos.openxr.hello_xr"
        minSdkVersion 24
        compileSdkVersion 26

        ndk.abiFilters 'arm64-v8a'

        externalNativeBuild {
            cmake {
                arguments "-DBUILD_LOADER=ON",
                    "-DBUILD_ALL_EXTENSIONS=ON",
                    "-DBUILD_API_LAYERS=OFF",
                    "-DBUILD_TESTS=OFF",
                    "-DBUILD_CONFORMANCE_TESTS=OFF",
                    "-DCMAKE_VERBOSE_MAKEFILE=ON"
                cppFlags '-DDEFAULT_GRAPHICS_PLUGIN_OPENGLES'
            }
        }
    }

    buildTypes {
        release {
            minifyEnabled false
        }
    }

    externalNativeBuild {
        cmake {
            version "3.22.1"
            path "CMakeLists.txt"
        }
    }
}
